(function(t){function e(e){for(var a,s,c=e[0],i=e[1],u=e[2],p=0,f=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0ffc":function(t,e,n){"use strict";var a=n("b416"),r=n.n(a);r.a},"270f":function(t,e,n){"use strict";var a=n("8ca4"),r=n.n(a);r.a},"59b4":function(t,e,n){"use strict";var a=n("e655"),r=n.n(a);r.a},"59c8":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("e332"),r=n.n(a);r.a},"7a8d":function(t,e,n){},"8ca4":function(t,e,n){},b416:function(t,e,n){},c094:function(t,e,n){"use strict";var a=n("7a8d"),r=n.n(a);r.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[this.$store.getters.isAuthenticated&&this.$store.getters.auth?n("div",[n("Auth")],1):this.$store.getters.auth?n("div",{staticClass:"load"},[n("div"),n("div",{staticClass:"loadText"},[t._m(0),n("svg",{staticClass:"loadSvg",attrs:{version:"1.1",viewBox:"0 0 16 16","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("path",{attrs:{d:"M14,8c-0.609,0-0.898,0.43-1,0.883C12.635,10.516,11.084,13,8,13c-0.757,0-1.473-0.172-2.114-0.474L6.414,12  C6.773,11.656,7,11.445,7,11c0-0.523-0.438-1-1-1H3c-0.609,0-1,0.492-1,1v3c0,0.541,0.428,1,1,1c0.484,0,0.688-0.273,1-0.594  l0.408-0.407C5.458,14.632,6.685,15,8,15c4.99,0,7-4.75,7-5.938C15,8.336,14.469,8,14,8z M3,7.117C3.365,5.485,4.916,3,8,3  c0.757,0,1.473,0.171,2.114,0.473L9.586,4C9.227,4.344,9,4.555,9,5c0,0.523,0.438,1,1,1h3c0.609,0,1-0.492,1-1V2  c0-0.541-0.428-1-1-1c-0.484,0-0.688,0.273-1,0.594l-0.408,0.407C10.542,1.368,9.315,1,8,1C3.01,1,1,5.75,1,6.938  C1,7.664,1.531,8,2,8C2.609,8,2.898,7.57,3,7.117z"}})])]),n("div")]):n("main",{staticClass:"authenticated"},[n("router-view")],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Система"),n("br"),t._v("загружается")])}],s=n("d225"),c=n("b0b4"),i=n("308d"),u=n("6bb5"),l=n("4e2b"),p=n("9ab4"),f=n("bc3a"),d=n.n(f),h=n("60a3"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-parent"},[n("p",{staticClass:"title"},[t._v("Авторизация")]),n("div",{staticClass:"auth"},[n("div",{staticClass:"input"},[n("p",[t._v("Логин")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:"Введите логин"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"input"},[n("p",[t._v("Пароль")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"Введите пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{on:{click:function(e){return t.login()}}},[t._v("ОК")])]),n("div",{attrs:{id:"error"}},[t._v(" "+t._s(t.error))])])},m=[],b="http://localhost:3000",_={name:"Auth",data:function(){return{error:"",username:"",password:""}},methods:{login:function(t){var e=this;this.error="",console.log(b),d.a.post(b+"/api/v1/signin",{username:this.username,password:this.password}).then(function(t){sessionStorage.setItem("token",t.data.token),e.$router.push({path:"/home"})}).catch(function(t){console.log(t),e.error="Что-то не так."})}}},g=_,O=(n("59b4"),n("2877")),j=Object(O["a"])(g,v,m,!1,null,"8f15347c",null),w=j.exports,y=function(t){function e(){return Object(s["a"])(this,e),Object(i["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){d.a.interceptors.response.use(void 0,function(t){return new Promise(function(e,n){throw 401===t.status&&t.config&&t.config.__isRetryRequest,t})})}}]),e}(h["b"]);y=Object(p["a"])([Object(h["a"])({components:{Auth:w}})],y);var k=y,C=k,x=(n("5c0b"),Object(O["a"])(C,r,o,!1,null,null,null)),$=x.exports,E=n("8c4f"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("navbar"),n("div",{staticClass:"content-block"},[n("router-view")],1)],1)},P=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar"},[t._m(0),n("div",{staticClass:"navbar__menu"},t._l(t.todos,function(e){return n("router-link",{key:e.id,staticClass:"navbar__menu-link",style:e,attrs:{to:e.component}},[t._v("\n\t\t\t"+t._s(e.text)+"\n\t\t")])}),1)])},R=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar__title"},[n("span",{staticClass:"navbar__icon_logo"}),n("p",{staticClass:"navbar__text_logo"},[t._v("Панель управления")])])}],A=(n("7f7f"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),M=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.displayError="none",t.displaySuccess="none",t.todos=[{text:"Все юзеры",component:"/all-users","--before":'"\\f007"'},{text:"Карты",component:"/maps","--before":'"\\f041"'},{text:"Заметки",component:"/notes","--before":'"\\f040"'},{text:"Документация",component:"/docs","--before":'"\\f15c"'}],t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){var t=Object(A["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("api/v1/data/",{token:sessionStorage.getItem("token")}).then(function(){var t=Object(A["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.displaySuccess="grid",t.next=3,d.a.post("api/v1/data/all",{token:sessionStorage.getItem("token")}).then(function(t){e.$store.commit("all",t.data.all);var n=t.data.all.filter(function(t){return Object.keys(t).some(function(e){return String(t[e]).toLowerCase().indexOf("admin0")>-1})});e.$store.commit("doc",n["0"].name)});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){console.log(t),e.displayError="block"});case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(h["b"]);M=Object(p["a"])([Object(h["a"])({})],M);var B=M,T=B,z=(n("fd69"),Object(O["a"])(T,I,R,!1,null,"50f0b92a",null)),N=z.exports,H=function(t){function e(){return Object(s["a"])(this,e),Object(i["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(h["b"]);H=Object(p["a"])([Object(h["a"])({components:{Navbar:N}})],H);var J=H,L=J,F=(n("270f"),Object(O["a"])(L,S,P,!1,null,"536c1ec6",null)),K=F.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},D=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"all-users"},[n("h1",[t._v("Все пользователи")])])}],U={},V=Object(O["a"])(U,q,D,!1,null,null,null),Y=V.exports,G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"maps"},[n("p",[t._v("Приветик")])])}],W=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.latitude=10,t.longitude=10,t.map=null,t.all="",t.flightPath="",t.filterKey="",t.open=!0,t.activeItem=-1,t.i="",t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){this.all="this.$store.getters.all"}}]),e}(h["b"]),X=W,Z=(n("c094"),Object(O["a"])(X,G,Q,!1,null,"b1efe206",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notes"},[n("div",{staticClass:"notes__title",style:{gridTemplateColumns:t.grid}},[n("h1",{staticClass:"notes__title-text"},[t._v("Заметки от разработчика")]),t.edit?n("div",{staticClass:"notes__edit_true"},[n("button",{staticClass:"button notes__button_cancel",on:{click:function(e){return t.cancel()}}},[t._v("ОТМЕНИТЬ")]),n("button",{staticClass:"button notes__button_confirm",on:{click:function(e){return t.clickButton()}}},[t._v("ПОДТВЕРДИТЬ")])]):n("div",{staticClass:"notes__edit_false"},[n("button",{staticClass:"button",on:{click:function(e){return t.clickButton()}}},[t._v("РЕДАКТИРОВАТЬ")])])]),n("div",{staticClass:"notes__content"},[t.edit?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data2,expression:"data2"}],staticClass:"notes__content_edit",attrs:{wrap:"hard"},domProps:{value:t.data2},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.data2=e.target.value)}}}):n("p",{staticClass:"notes__content_view",domProps:{innerHTML:t._s(t.data)}})])])},nt=[],at=(n("a481"),function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.edit=!1,t.data="",t.data2="",t.grid="1fr auto",t.change="РЕДАИРОВАТЬ",t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){this.data=this.data2="this.$store.getters.doc"}},{key:"clickButton",value:function(){this.edit=!0,"Редактировать"===this.change?(this.grid="1fr auto auto",this.change="Подтвердить",this.data2=this.data2.replace(/<br\/>/g,"\n")):(this.grid="1fr auto",this.confirmButton(),this.change="Редактировать")}},{key:"cancel",value:function(){this.edit=!1}},{key:"confirmButton",value:function(){var t=Object(A["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.data=this.data2.replace(/\n/g,"<br/>"),t.next=3,d.a.post("api/v1/data/change",{token:sessionStorage.getItem("token"),name:this.data}).then(function(t){console.log("Изменили документацию")}).catch(function(t){console.log(t),console.log("Что-то не то введено")});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(h["b"])),rt=at,ot=(n("0ffc"),Object(O["a"])(rt,et,nt,!1,null,"17b8cc36",null)),st=ot.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"not-found"},[n("h1",[t._v("Страница не найдена.")]),n("router-link",{attrs:{to:"/"}},[t._v("На главную")])],1)},it=[],ut={},lt=Object(O["a"])(ut,ct,it,!1,null,null,null),pt=lt.exports,ft=n("2f62");a["a"].use(ft["a"]);var dt=new ft["a"].Store({state:{token:localStorage.getItem("user-token")||""},getters:{token:function(t){return t.token}},mutations:{},actions:{}});a["a"].use(E["a"]);var ht=function(t,e,n){dt.getters.isAuthenticated?n("/auth"):n()},vt=function(t,e,n){dt.getters.isAuthenticated?n("/"):n()},mt=new E["a"]({mode:"history",base:"",routes:[{path:"",component:K,beforeEnter:ht,children:[{path:"",redirect:"/all-users"},{path:"/all-users",name:"allUsers",component:Y},{path:"/maps",name:"maps",component:tt},{path:"/notes",name:"notes",component:st},{path:"/docs",beforeEnter:function(){location.href="./doc/index.html"}}]},{path:"/auth",name:"auth",component:w,beforeEnter:vt},{path:"*",name:"notFound",component:pt,beforeEnter:ht}]}),bt=n("755e");a["a"].config.productionTip=!1,a["a"].prototype.$http=d.a;var _t=localStorage.getItem("token");_t&&(a["a"].prototype.$http.defaults.headers.common.Authorization=_t),a["a"].use(bt,{load:{key:"AIzaSyBtRDH4cdzcp6ukYeH-KJF6uCN8iJwItpM",v:"3",libraries:"places"}}),new a["a"]({router:mt,store:dt,render:function(t){return t($)}}).$mount("#app")},e332:function(t,e,n){},e655:function(t,e,n){},fd69:function(t,e,n){"use strict";var a=n("59c8"),r=n.n(a);r.a}});
//# sourceMappingURL=app.e95ab4da.js.map